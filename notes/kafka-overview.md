# Kafka: –æ–±–∑–æ—Ä –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üì¶ –û–±–∑–æ—Ä Apache Kafka

Apache Kafka ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (event streaming platform), –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è:

- –û—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–ª–æ–≥–æ–≤, —Å–æ–±—ã—Ç–∏–π, –¥–∞–Ω–Ω—ã—Ö) —Å –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é.
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- –•—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π.

---

## üß± –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Kafka

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç       | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------------|----------|
| **Producer**    | –ü–æ—Å—Ç–∞–≤—â–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Kafka. |
| **Consumer**    | –ü–æ–ª—É—á–∞—Ç–µ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–π. –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Kafka. |
| **Topic**       | –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–∫–∞–Ω–∞–ª), –≤ –∫–æ—Ç–æ—Ä—É—é –ø–∏—à—É—Ç—Å—è –∏ –∏–∑ –∫–æ—Ç–æ—Ä–æ–π —á–∏—Ç–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è. |
| **Broker**      | –£–∑–µ–ª –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Kafka. –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã. |
| **Zookeeper**   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ (–¥–æ –≤–µ—Ä—Å–∏–∏ 3.5+). |
| **Partition**   | –ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–ø–∏–∫–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É. |
| **Offset**      | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ partition. |

---

## ‚öôÔ∏è –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

1. –ü—Ä–æ–¥—é—Å–µ—Ä—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–±—ã—Ç–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π **topic**.
2. –ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π **partition** –≤–Ω—É—Ç—Ä–∏ —Ç–æ–ø–∏–∫–∞.
3. –ö–æ–Ω—Å—å—é–º–µ—Ä—ã —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —ç—Ç–∏—Ö partition‚Äô–æ–≤, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—è **offset**.
4. Kafka –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º.

---

## üîÑ Kafka vs –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞        | Kafka                | RabbitMQ / ActiveMQ         |
|------------------------|----------------------|------------------------------|
| –ü–æ–¥—Ö–æ–¥                 | Log-based (append)   | Queue-based                 |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å       | –û—Ç–ª–∏—á–Ω–∞—è             | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞                  |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å     | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è        | –°—Ä–µ–¥–Ω—è—è                     |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—ã—Ç–∏–π      | –î–∞                   | –î–∞                           |
| –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π     | –î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ       | –í—Ä–µ–º–µ–Ω–Ω–æ–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)    |

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Kafka Documentation](https://kafka.apache.org/documentation/)
- [Kafka Internals (–æ—Ç Confluent)](https://docs.confluent.io/platform/current/kafka/introduction.html)
- [Kafka Illustrated Guide](https://www.confluent.io/resources/kafka-the-definitive-guide/)
  """, encoding="utf-8")

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Kafka (–Ω–∞ –ø–∞–ª—å—Ü–∞—Ö):

            +-------------+
            |  Producer   |
            +-------------+
                   |
                   v
         +---------------------+
         |     Kafka Topic     |
         |   (—Ä–∞–∑–±–∏—Ç –Ω–∞ N –ø–∞—Ä—Ç–∏—Ü–∏–π)     |
         +---------------------+
         | Partition 0 | Partition 1 | Partition 2 |
         +-------------+-------------+-------------+
               |             |             |
               v             v             v
          Consumer A    Consumer B     Consumer C


–ö–∞–∂–¥–∞—è –ø–∞—Ä—Ç–∏—Ü–∏—è —á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∏–º –∫–æ–Ω—Å—é–º–µ—Ä–æ–º –≤ –≥—Ä—É–ø–ø–µ.

## üß† –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è Kafka:
Kafka ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—á–µ—Ä–µ–¥—å, –∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π commit log, –≥–¥–µ:
- –∫–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ (offset)
- –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–µ –º–µ—à–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É