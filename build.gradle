plugins {
    id 'java'// –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É Java (–∫–æ–º–ø–∏–ª—è—Ü–∏—è, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ —Ç.–¥.).
    id 'application'//–ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å main-–∫–ª–∞—Å—Å (—Å–º. application.mainClass) –∏ —Å–æ–±–∏—Ä–∞—Ç—å .jar —Å entry-point.
    id 'org.springframework.boot' version '2.7.18' apply false // apply false ‚Äî –∑–Ω–∞—á–∏—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å–µ–π—á–∞—Å, –Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è subprojects
    id 'io.spring.dependency-management' version '1.1.4' apply false
}

group = 'com.evgeny.kafka'//–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ namespace –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç: com.evgeny.kafka:module-name:0.1.0.
version = '0.1.0'

//üìå –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Java 11 –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ CI-—Å–±–æ—Ä–æ–∫, –¥–∞–∂–µ –µ—Å–ª–∏ —É –Ω–∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ –¥—Ä—É–≥–∞—è Java.
//Gradle —Å–∞–º —Å–∫–∞—á–∞–µ—Ç JDK 11, –µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω toolchain. –≠—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(11) // Gradle —Å–∞–º –ø–æ–¥—Ç—è–Ω–µ—Ç JDK 11
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation libs.kafka.clients
    implementation libs.logback

    testImplementation libs.junit
    testImplementation libs.assertj
    testImplementation libs.mockito
    testImplementation libs.testcontainers
    implementation libs.commons.compress
    testImplementation libs.testcontainers.kafka
}


//–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è JUnit 5.
//–ü–æ–¥–∫–ª—é—á–∞–µ—Ç Jupiter Platform (–≤–∫–ª—é—á–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Test, @DisplayName, @Nested –∏ —Ç.–¥.).
test {
    useJUnitPlatform()
}

// –¥–æ–±–∞–≤–ª–µ–Ω–æ ‚Äî —ç—Ç–æ –≤–∫–ª—é—á–∏—Ç—Å—è –≤ –ø–æ–¥–ø—Ä–æ–µ–∫—Ç–∞—Ö –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ spring-boot
subprojects {
    apply plugin: 'java'

    repositories {
        mavenCentral()
    }

    tasks.withType(JavaCompile).configureEach {
        options.encoding = 'UTF-8'
        options.compilerArgs += ['-Xlint:unchecked', '-Xlint:deprecation']
    }
}
